# üõí Marketplace - –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Go, PostgreSQL –∏ Apache Kafka.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   User Service  ‚îÇ    ‚îÇ Product Service ‚îÇ    ‚îÇ  Order Service  ‚îÇ    ‚îÇ Payment Service ‚îÇ    ‚îÇNotification Svc‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è   ‚îÇ    ‚îÇ ‚Ä¢ –ö–∞—Ç–∞–ª–æ–≥       ‚îÇ    ‚îÇ ‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ      ‚îÇ    ‚îÇ ‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ      ‚îÇ    ‚îÇ ‚Ä¢ Email         ‚îÇ
‚îÇ ‚Ä¢ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è   ‚îÇ    ‚îÇ ‚Ä¢ –ü–æ–∏—Å–∫         ‚îÇ    ‚îÇ ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ    ‚îÇ    ‚îÇ ‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫–∞     ‚îÇ    ‚îÇ ‚Ä¢ SMS           ‚îÇ
‚îÇ ‚Ä¢ –ü—Ä–æ—Ñ–∏–ª–∏       ‚îÇ    ‚îÇ ‚Ä¢ CRUD          ‚îÇ    ‚îÇ ‚Ä¢ –°—Ç–∞—Ç—É—Å—ã       ‚îÇ    ‚îÇ ‚Ä¢ –°—Ç–∞—Ç—É—Å—ã       ‚îÇ    ‚îÇ ‚Ä¢ Push          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ                       ‚îÇ                       ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   PostgreSQL    ‚îÇ    ‚îÇ   Apache Kafka  ‚îÇ
                    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
                    ‚îÇ ‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏  ‚îÇ    ‚îÇ ‚Ä¢ order-events  ‚îÇ
                    ‚îÇ ‚Ä¢ –¢–æ–≤–∞—Ä—ã        ‚îÇ    ‚îÇ ‚Ä¢ Event-driven  ‚îÇ
                    ‚îÇ ‚Ä¢ –ó–∞–∫–∞–∑—ã        ‚îÇ    ‚îÇ ‚Ä¢ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å ‚îÇ
                    ‚îÇ ‚Ä¢ –ü–ª–∞—Ç–µ–∂–∏       ‚îÇ    ‚îÇ ‚Ä¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è   ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üë§ User Service (–ü–æ—Ä—Ç: 8081)

- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω—ã
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏** (–ø–æ—Å—Ç–∞–≤—â–∏–∫–∏/–∫–ª–∏–µ–Ω—Ç—ã)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤** –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### üì¶ Product Service (–ü–æ—Ä—Ç: 8082)

- **–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤** —Å –ø–æ–ª–Ω—ã–º CRUD
- **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** —Ç–æ–≤–∞—Ä–æ–≤
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏** –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞—Ö**

### üõçÔ∏è Order Service (–ü–æ—Ä—Ç: 8084)

- **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤** –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏** –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤** –∑–∞–∫–∞–∑–æ–≤
- **–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —á–µ—Ä–µ–∑ Kafka

### üí≥ Payment Service (–ü–æ—Ä—Ç: 8083)

- **–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π** (–∫–∞—Ä—Ç–∞, –±–∞–Ω–∫–æ–≤—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥, PayPal)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏** –ø–ª–∞—Ç–µ–∂–µ–π
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏**
- **Event-driven —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** —á–µ—Ä–µ–∑ Kafka

### üìß Notification Service (–ü–æ—Ä—Ç: 8085)

- **Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** —á–µ—Ä–µ–∑ SMTP
- **SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (–º–æ–∫)
- **Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (–º–æ–∫)
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Å–æ–±—ã—Ç–∏–π –∑–∞–∫–∞–∑–æ–≤ –∏ –ø–ª–∞—Ç–µ–∂–µ–π
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–ø–ª–∞—Ç—ã**
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ**

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend

- **Go 1.21+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Gorilla Mux** - HTTP —Ä–æ—É—Ç–∏–Ω–≥
- **PostgreSQL** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Apache Kafka** - message broker –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- **JWT** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
- **Kafka UI** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Kafka
- **Zookeeper** - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è Kafka –∫–ª–∞—Å—Ç–µ—Ä–∞

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏

- **github.com/IBM/sarama** - Kafka –∫–ª–∏–µ–Ω—Ç –¥–ª—è Go
- **github.com/golang-jwt/jwt** - JWT —Ç–æ–∫–µ–Ω—ã
- **gopkg.in/gomail.v2** - –æ—Ç–ø—Ä–∞–≤–∫–∞ email
- **github.com/lib/pq** - PostgreSQL –¥—Ä–∞–π–≤–µ—Ä
- **github.com/hashicorp/go-uuid** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è UUID

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
marketplace/
‚îú‚îÄ‚îÄ User_Service/                 # –°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ cmd/main.go              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                 # HTTP handlers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/              # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repository/          # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ Product_Service/              # –°–µ—Ä–≤–∏—Å —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ cmd/main.go
‚îÇ   ‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repository/
‚îÇ   ‚îî‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ Order_Service/                # –°–µ—Ä–≤–∏—Å –∑–∞–∫–∞–∑–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ cmd/main.go
‚îÇ   ‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ kafka/               # Kafka Producer
‚îÇ   ‚îî‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ Payment_Service/              # –°–µ—Ä–≤–∏—Å –ø–ª–∞—Ç–µ–∂–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ cmd/main.go
‚îÇ   ‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                 # HTTP handlers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/              # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/          # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service/             # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ kafka/               # Kafka Producer/Consumer
‚îÇ   ‚îî‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ Notification_Service/         # –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ cmd/main.go
‚îÇ   ‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service/             # Email, SMS, Push —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ kafka/               # Kafka Consumer
‚îÇ   ‚îî‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ docker-compose.yml           # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
# –ó–∞–ø—É—Å–∫ Kafka, Zookeeper –∏ Kafka UI
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ Kafka

–û—Ç–∫—Ä–æ–π—Ç–µ [Kafka UI](http://localhost:8080) –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ç–æ–ø–∏–∫:

- **–ù–∞–∑–≤–∞–Ω–∏–µ**: `order-events`
- **–ü–∞—Ä—Ç–∏—Ü–∏–∏**: 3
- **–†–µ–ø–ª–∏–∫–∞—Ü–∏–∏**: 1

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
psql -h localhost -U postgres -c "CREATE DATABASE payment_db;"

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ amount –≤ —Ç–∞–±–ª–∏—Ü—É orders
psql -h localhost -U postgres -d order_db -c "ALTER TABLE orders ADD COLUMN amount DECIMAL(10,2) DEFAULT 0.0;"
```

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - User Service
cd User_Service && go run cmd/main.go

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - Product Service
cd Product_Service && go run cmd/main.go

# –¢–µ—Ä–º–∏–Ω–∞–ª 3 - Payment Service
cd Payment_Service && go run cmd/main.go

# –¢–µ—Ä–º–∏–Ω–∞–ª 4 - Order Service
cd Order_Service && go run cmd/main.go

# –¢–µ—Ä–º–∏–Ω–∞–ª 5 - Notification Service
cd Notification_Service && go run cmd/main.go
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
curl -X POST http://localhost:8081/api/register \
  -H "Content-Type: application/json" \
  -d '{"username":"supplier1","email":"supplier1@example.com","password":"password123","role":"supplier"}'

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
curl -X POST http://localhost:8081/api/register \
  -H "Content-Type: application/json" \
  -d '{"username":"client1","email":"client1@example.com","password":"password123","role":"client"}'
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞
curl -X POST http://localhost:8081/api/login \
  -H "Content-Type: application/json" \
  -d '{"email":"supplier1@example.com","password":"password123"}'
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
curl -X POST http://localhost:8082/api/product/create \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{"name":"iPhone 15","description":"Latest iPhone","price":999.99,"supplier_id":1}'
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∫–ª–∏–µ–Ω—Ç–∞)
curl -X POST http://localhost:8084/api/order/create \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer CLIENT_JWT_TOKEN" \
  -d '{"product_name":"iPhone 15","product_id":1,"supplier_id":1,"amount":999.99}'
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–ª–∞—Ç–µ–∂–µ
curl -X GET http://localhost:8083/api/payments/PAYMENT_ID \
  -H "Authorization: Bearer CLIENT_JWT_TOKEN"

# –û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π
curl -X POST http://localhost:8083/api/payments/PAYMENT_ID/pay \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer CLIENT_JWT_TOKEN" \
  -d '{
    "payment_method": "card",
    "card_number": "4111111111111111",
    "expiry_month": 12,
    "expiry_year": 2025,
    "cvv": "123",
    "cardholder_name": "Test User"
  }'

# –û–ø–ª–∞—Ç–∞ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º –ø–µ—Ä–µ–≤–æ–¥–æ–º
curl -X POST http://localhost:8083/api/payments/PAYMENT_ID/pay \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer CLIENT_JWT_TOKEN" \
  -d '{
    "payment_method": "bank_transfer",
    "bank_name": "Test Bank",
    "account_number": "1234567890"
  }'
```

## üìä Event-Driven Architecture

### –ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π

```
1. –ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ ‚Üí Order Service
   ‚Üì
2. Order Service –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç order_created ‚Üí Kafka
   ‚Üì
3. Payment Service –ø–æ–ª—É—á–∞–µ—Ç order_created ‚Üí —Å–æ–∑–¥–∞–µ—Ç –ø–ª–∞—Ç–µ–∂ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç payment_required
   ‚Üì
4. Notification Service –ø–æ–ª—É—á–∞–µ—Ç payment_required ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
   ‚Üì
5. –ö–ª–∏–µ–Ω—Ç –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç ‚Üí Payment Service
   ‚Üì
6. Payment Service –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç payment_completed ‚Üí Kafka
   ‚Üì
7. Notification Service –ø–æ–ª—É—á–∞–µ—Ç payment_completed ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ
```

### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π

- **`order_created`** - –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω
- **`order_status_updated`** - —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –∏–∑–º–µ–Ω–µ–Ω
- **`payment_required`** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞
- **`payment_completed`** - –ø–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω

### –°—Ö–µ–º–∞ —Å–æ–±—ã—Ç–∏–π

```mermaid
sequenceDiagram
    participant C as Client
    participant OS as Order Service
    participant PS as Payment Service
    participant NS as Notification Service
    participant K as Kafka

    C->>OS: –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
    OS->>K: order_created
    K->>PS: order_created
    PS->>PS: –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂
    PS->>K: payment_required
    K->>NS: payment_required
    NS->>C: Email: "–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø–ª–∞—Ç–∞"

    C->>PS: –û–ø–ª–∞—Ç–∏—Ç—å
    PS->>PS: –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–ª–∞—Ç–µ–∂
    PS->>K: payment_completed
    K->>NS: payment_completed
    NS->>C: Email: "–û–ø–ª–∞—Ç–∞ —É—Å–ø–µ—à–Ω–∞"
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤

- **User Service**: 8081
- **Product Service**: 8082
- **Payment Service**: 8083
- **Order Service**: 8084
- **Notification Service**: 8085
- **Kafka UI**: 8080

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- **PostgreSQL**: localhost:5432
- **–ë–∞–∑—ã**:
  - `marketplace` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ç–æ–≤–∞—Ä—ã)
  - `order_db` (–∑–∞–∫–∞–∑—ã)
  - `payment_db` (–ø–ª–∞—Ç–µ–∂–∏)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: postgres
- **–ü–∞—Ä–æ–ª—å**: password

### Kafka

- **Broker**: localhost:9092
- **Zookeeper**: localhost:2181
- **–¢–æ–ø–∏–∫**: order-events

## üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### Email (Gmail)

```go
// –í Notification_Service/cmd/main.go
emailService := service.NewEmailService(
    "smtp.gmail.com",           // SMTP host
    587,                        // SMTP port
    "your-email@gmail.com",     // SMTP username
    "your-app-password",        // SMTP password (App Password)
    "noreply@marketplace.com",  // From email
)
```

### SMS –∏ Push (–º–æ–∫)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫-—Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ API:

- **SMS**: Twilio, Nexmo, SMS.ru
- **Push**: Firebase Cloud Messaging, Apple Push Notification Service

## üê≥ Docker

### –ó–∞–ø—É—Å–∫ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
docker-compose up -d
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker-compose down
```

### –õ–æ–≥–∏

```bash
docker-compose logs -f kafka
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Kafka UI

- **URL**: http://localhost:8080
- **–§—É–Ω–∫—Ü–∏–∏**: –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–ø–∏–∫–æ–≤, —Å–æ–æ–±—â–µ–Ω–∏–π, consumer groups

### –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –ª–æ–≥–∏—Ä—É–µ—Ç:

- HTTP –∑–∞–ø—Ä–æ—Å—ã
- –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- Kafka —Å–æ–±—ã—Ç–∏—è
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü–ª–∞—Ç–µ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **JWT —Ç–æ–∫–µ–Ω—ã** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **TLS —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è SMTP
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- **–õ–æ–∫–∞–ª—å–Ω–∞—è JWT –≤–∞–ª–∏–¥–∞—Ü–∏—è** (–±–µ–∑ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤)

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Go 1.21+
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose
3. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `docker-compose up -d`
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Kubernetes –∏–ª–∏ Docker Swarm
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus, Grafana)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (ELK Stack)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ Kafka –∫–ª–∞—Å—Ç–µ—Ä—ã
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë• –ê–≤—Ç–æ—Ä—ã

- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**: [–í–∞—à–µ –∏–º—è]
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã + Event-Driven
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Go, PostgreSQL, Kafka, Docker

---

**Marketplace** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏ —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ —Å–∏—Å—Ç–µ–º–æ–π –ø–ª–∞—Ç–µ–∂–µ–π! üõíüí≥‚ú®
